<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html/public_html
    ServerName 54.207.211.25
    
    <Directory /var/www/html/public_html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted

        # PHP Settings
        <IfModule mod_php8.c>
            php_flag display_errors On
            php_value error_reporting E_ALL
            php_value upload_max_filesize 64M
            php_value post_max_size 64M
            php_value max_execution_time 300
            php_value max_input_time 300
        </IfModule>
    </Directory>

    # Permitir CORS para assets
    <IfModule mod_headers.c>
        Header set Access-Control-Allow-Origin "*"
    </IfModule>

    # Alias para os assets
    Alias /assets /var/www/html/public_html/public/assets
    Alias /build /var/www/html/public_html/public/build
    
    <Directory /var/www/html/public_html/public/assets>
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>

    <Directory /var/www/html/public_html/public/build>
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>

    # Logs
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>